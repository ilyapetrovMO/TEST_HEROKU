@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
<script type="text/javascript">
    function validateCreatedAt() {
        let value = document.forms["dateForm"]["createdAt"].value;
        if (value == "") {
            alert("Name must be filled out");
            return false;
        }
    }
</script>

<div class="">
    <form name="dateForm" class="form-inline col-lg-6 mb-2" method="GET" onsubmit="return validateCreatedAt()">
        <legend>Дата начала контракта</legend>
        <div class="form-group">
            <input class="form-control" type="datetime-local" value="2020-06-21T19:30" name="createdAt" />
        </div>
        <div class="form-group mx-sm-3 mb-2">
            <button class="btn btn-primary mt-2" type="submit">Создать отчет</button>
        </div>
    </form>

    @if (Model.Reports != null)
    {
        <table class="table table-dark">
            <thead>
                <tr>
                    <th>Имя</th>
                    <th>Фамилия</th>
                    <th>Отчество</th>
                    <th>Баланс</th>
                </tr>
            </thead>
            <tbody>
                @foreach (IndexModel.ReportType rep in Model.Reports)
                {
                <tr>
                    <td>@rep.Name</td>
                    <td>@rep.SecondName</td>
                    <td>
                        @if (rep.ThirdName == null)
                        {
                            <text>-</text>
                        }
                        else
                        {
                            <text>@rep.ThirdName</text>
                        }
                    </td>
                    <td>@rep.Balance</td>
                </tr>
                }
            </tbody>
        </table>
    }
</div>
